(this["webpackJsonpwa-conection"]=this["webpackJsonpwa-conection"]||[]).push([[0],{458:function(e,t,n){},459:function(e,t,n){},497:function(e,t,n){"use strict";n.r(t);var a=n(13),c=n(4),s=n(0),r=n(71),i=n.n(r),o=n(538),d=n(6),l=n(510),j=n(26),u=n(38),b=n(505),h=n(506),O=n(507),x=n(508),p=n(509),f=n(511),m=n(512),v=n(513);var g=function(){var e=Object(j.g)(),t=Object(u.useFirebase)(),n=Object(s.useState)(!1),a=Object(d.a)(n,2),r=a[0],i=a[1],o=function(){i(!r)};return Object(c.jsxs)(b.a,{"aria-label":"Connectivity's",children:[Object(c.jsx)(h.a,{}),Object(c.jsx)(O.a,{href:"/",prefix:"",children:"NON FUNCTIONAL DEMO - WA Connection"}),Object(c.jsx)(x.a,{children:Object(c.jsx)(p.a,{"aria-label":"User Avatar",onClick:o,children:Object(c.jsx)(l.b,{})})}),Object(c.jsx)(f.a,{expanded:r,children:Object(c.jsx)(m.a,{"aria-label":"Switcher Container",children:Object(c.jsx)(v.a,{onClick:function(){t.auth().signOut().then((function(){o(),e.push("/login")}))},"aria-label":"Log out",children:"Log out"})})})]})},y=n(514),I=n(515),T=n(545),M=n(543),C=n(518),S=n(520);function E(e){return{type:"CHANGE",data:"".concat(e)}}var k=n(516),A=n(62),N=n(285),w=n(519),D=n(521),V=n(19);var L=Object(V.b)((function(e){return{connections:e.firestore.ordered.connections,contacts:e.firestore.ordered.contacts,sideNav:e.sideNav.activeTab}}),(function(e){return{changeTab:function(t){e(E(t))}}}))((function(e){var t=Object(j.g)(),n=function(e){t.push("".concat(e))};return Object(c.jsx)(s.Fragment,{children:Object(c.jsx)(y.a,{isFixedNav:!0,expanded:!0,isChildOfHeader:!1,"aria-label":"Side navigation",children:Object(c.jsxs)(I.a,{children:[Object(c.jsx)(T.a,{isActive:"dashboard"===e.sideNav,renderIcon:k.b,onClick:function(){e.changeTab("dashboard"),n("/app/dashboard")},children:"Dashboard"}),Object(c.jsx)(M.a,{}),Object(c.jsx)(T.a,{renderIcon:A.h,isActive:"send-text-message"===e.sideNav,onClick:function(){e.changeTab("send-text-message"),n("/app/send-text-message")},children:"Send text messages"}),Object(c.jsx)(T.a,{isActive:"send-media-message"===e.sideNav,renderIcon:N.a,onClick:function(){console.log("Closed feature"),e.changeTab("send-media-message"),n("/app/send-media-message")},children:"Send media messages"}),Object(c.jsx)(M.a,{}),Object(c.jsx)(C.a,{renderIcon:w.a,title:"Campaigns",children:Object(c.jsx)(S.a,{children:"Create new campaign"})}),Object(c.jsx)(M.a,{}),Object(c.jsxs)(C.a,{title:"WA - Connections",isActive:!1,renderIcon:D.a,children:[e.connections?e.connections.map((function(t,a){return Object(c.jsx)(S.a,{isActive:e.sideNav==="connection-status/".concat(t.id),onClick:function(){e.changeTab("connection-status/".concat(t.id)),n("/app/connection-status/".concat(t.id))},children:t.id},a)})):"",Object(c.jsx)(S.a,{isActive:"create-new-connection"===e.sideNav,onClick:function(){n("/app/create-new-connection"),e.changeTab("create-new-connection")},children:"Create new connection"})]}),Object(c.jsxs)(C.a,{title:"Contact lists",renderIcon:w.b,children:[e.contacts?e.contacts.map((function(t,a){return Object(c.jsx)(S.a,{isActive:e.sideNav==="contact-status/".concat(t.id),onClick:function(){e.changeTab("contact-status/".concat(t.id)),n("/app/contact-status/".concat(t.id))},children:t.id},a)})):"",Object(c.jsx)(S.a,{isActive:"create-new-contact"===e.sideNav,onClick:function(){n("/app/create-new-contact"),e.changeTab("create-new-contact")},children:"Create new contact list"})]})]})})})})),_=n(522),W=n(523),R=n(524);function F(e){return Object(c.jsx)("div",{className:"SimpleCard",children:Object(c.jsx)(_.a,{children:Object(c.jsx)(W.a,{children:Object(c.jsxs)(R.a,{children:[Object(c.jsx)("h2",{className:"title",children:e.title}),e.children]})})})})}function X(e){return e.col>1?Object(c.jsx)(_.a,{children:Object(c.jsxs)(W.a,{children:[Object(c.jsx)(R.a,{children:e.first}),Object(c.jsx)(R.a,{children:e.second})]})}):Object(c.jsx)(_.a,{children:Object(c.jsx)(W.a,{children:Object(c.jsx)(R.a,{children:e.children})})})}var Z=n(525),z=n(526),P=n(527),G=n(544),U=n(528),J=n(529);var Y=Object(V.b)((function(e){return{contacts:e.firestore.ordered.contacts,connections:e.firestore.ordered.connections}}))((function(e){return Object(c.jsxs)("div",{className:"dashboard",children:[Object(c.jsx)(X,{children:Object(c.jsx)(F,{title:"WA Connections",children:Object(c.jsxs)(Z.a,{children:[Object(c.jsx)(z.a,{children:Object(c.jsxs)(P.a,{children:[Object(c.jsx)(G.a,{children:Object(c.jsx)("h5",{children:"Available Connections"})}),Object(c.jsx)(G.a,{children:Object(c.jsx)("h5",{children:"Status"})})]})}),Object(c.jsx)(U.a,{children:e.connections?e.connections.map((function(e,t){return Object(c.jsxs)(P.a,{children:[Object(c.jsx)(J.a,{children:e.id}),Object(c.jsx)(J.a,{children:" Online "})]},t)})):null})]})})}),Object(c.jsx)(X,{children:Object(c.jsx)(F,{title:"Contact lists",children:Object(c.jsxs)(Z.a,{children:[Object(c.jsx)(z.a,{children:Object(c.jsxs)(P.a,{children:[Object(c.jsx)(G.a,{children:Object(c.jsx)("h5",{children:"List name"})}),Object(c.jsx)(G.a,{children:Object(c.jsx)("h5",{children:"Length"})}),Object(c.jsx)(G.a,{children:Object(c.jsx)("h5",{children:"Available variables"})})]})}),Object(c.jsx)(U.a,{children:e.contacts?e.contacts.map((function(e,t){return Object(c.jsxs)(P.a,{children:[Object(c.jsx)(J.a,{children:e.id}),Object(c.jsxs)(J.a,{children:[" ",e.length," "]}),Object(c.jsx)(J.a,{children:e.variables.toString()})]},t)})):null})]})})})]})})),B=n(540),Q=(n(530),n(531)),H=n(541),K=n(287);var q=n(500),$=n(532);var ee=Object(V.b)((function(e){return{connections:e.firestore.ordered.connections}}))((function(e){var t=Object(j.h)().id,n=e.connections.find((function(e){return e.id===t}));return n.user?Object(c.jsxs)("div",{className:"connection-status",children:[Object(c.jsx)(F,{title:n.id,children:Object(c.jsx)(X,{col:2,first:Object(c.jsxs)(Z.a,{children:[Object(c.jsx)(z.a,{children:Object(c.jsx)(G.a,{children:Object(c.jsx)("h3",{children:"Connection's Info"})})}),Object(c.jsxs)(U.a,{children:[Object(c.jsx)(P.a,{children:Object(c.jsxs)(J.a,{children:["Name: ",n.user.name]})}),Object(c.jsx)(P.a,{children:Object(c.jsxs)(J.a,{children:["JID: ",n.user.jid]})})]}),Object(c.jsx)(z.a,{children:Object(c.jsx)(G.a,{children:Object(c.jsx)("h3",{children:"Device Info"})})}),Object(c.jsxs)(U.a,{children:[Object(c.jsx)(P.a,{children:Object(c.jsxs)(J.a,{children:["Device manufacurer:",n.user.phone.device_manufacturer]})}),Object(c.jsx)(P.a,{children:Object(c.jsxs)(J.a,{children:["Device model: ",n.user.phone.device_model]})}),Object(c.jsx)(P.a,{children:Object(c.jsxs)(J.a,{children:["MCC: ",n.user.phone.mcc]})}),Object(c.jsx)(P.a,{children:Object(c.jsxs)(J.a,{children:["MNC: ",n.user.phone.mnc]})}),Object(c.jsx)(P.a,{children:Object(c.jsxs)(J.a,{children:["OS build number: ",n.user.phone.os_build_number]})}),Object(c.jsx)(P.a,{children:Object(c.jsxs)(J.a,{children:["OS version: ",n.user.phone.os_version]})}),Object(c.jsx)(P.a,{children:Object(c.jsxs)(J.a,{children:["WA version: ",n.user.phone.wa_version]})})]})]}),second:Object(c.jsx)("img",{src:"".concat(n.user.imgUrl),style:{width:"100%"},alt:"Profile associated with this wa account"})})}),Object(c.jsx)(q.a,{kind:"danger",renderIcon:$.a,onClick:function(){},children:"Delete connection"})]}):Object(c.jsx)(K.a,{})}));var te=Object(V.b)((function(e){return{contacts:e.firestore.ordered.contacts}}))((function(e){var t=Object(j.h)().id,n=e.contacts.find((function(e){return e.id===t}));return Object(c.jsx)("div",{className:"contact-status",children:Object(c.jsxs)(F,{title:n.id,children:[Object(c.jsx)(X,{col:2,first:Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{children:"This is a list with all your contact\u2019s available variables. To call them in the message, just type it\u2019s name inside curly braces."}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("p",{children:"If you call a variable that doesn\u2019t exists, \u201cundefined\u201d is going to appear on its place in the message."})]}),second:Object(c.jsxs)(Z.a,{children:[Object(c.jsx)(z.a,{children:Object(c.jsx)(G.a,{children:Object(c.jsx)("h3",{children:"Available variables"})})}),Object(c.jsx)(U.a,{children:n.variables.map((function(e,t){return Object(c.jsx)(P.a,{children:Object(c.jsxs)(J.a,{children:[" ","{ ".concat(e," }")]})},t)}))}),Object(c.jsx)(z.a,{children:Object(c.jsx)(G.a,{children:Object(c.jsx)("h3",{children:"Contacts Available"})})}),Object(c.jsx)(U.a,{children:Object(c.jsx)(P.a,{children:Object(c.jsxs)(J.a,{children:[" ",n.length," contacts "]})})})]})}),Object(c.jsx)(q.a,{onClick:function(){},kind:"danger",renderIcon:$.a,children:"Delete contact list"})]})})})),ne=n(14),ae=n.n(ne),ce=n(30),se=n(7),re=n(134),ie=(n(447),n(283)),oe=n(533),de=n(539);function le(e){return{type:"CREATE_TEXT",data:e}}function je(e){return{type:"DELETE_TEXT",data:e}}function ue(e){var t=e.length-1;return e.reduce((function(e,n,a){var c=function(e,t){return t.bold?""!==t.text?"".concat(e," *").concat(t.text,"*"):"".concat(e," ").concat(t.text):t.italic?""!==t.text?"".concat(e," _").concat(t.text,"_"):"".concat(e," ").concat(t.text):t.code?""!==t.text?e+"```"+t.text+"```":"".concat(e," ").concat(t.text):t.overline&&t.text?"".concat(e," ~").concat(t.text,"~"):"".concat(e," ").concat(t.text)};return a!==t?e+"".concat(n.children.reduce(c,"")," \n"):e+"".concat(n.children.reduce(c,""))}),"")}var be=Object(V.b)((function(e){return{textMessageVariants:e.textMessageVariants,contacts:e.firestore.ordered.contacts,connections:e.firestore.ordered.connections,uid:e.firebase.auth.uid}}),(function(e){return{createVariant:function(t){return e(le(t))},deleteVariant:function(t){return e(je(t))},deleteAll:function(){return e({type:"DELETE_ALL_TEXT"})}}}))((function(e){var t=Object(s.useMemo)((function(){return Object(re.c)(Object(se.h)())}),[]),n=Object(s.useState)(!1),r=Object(d.a)(n,2),i=r[0],o=r[1],l=function(){o(!i)},j=function(e){return Object(c.jsx)("p",Object(a.a)(Object(a.a)({},e.attributes),{},{children:e.children}))},u=Object(s.useCallback)((function(e){return e.element.type,Object(c.jsx)(j,Object(a.a)({},e))}),[]),b=function(e){var t=e.attributes,n=e.children,s=e.leaf;return s.bold&&(n=Object(c.jsx)("strong",{children:n})),s.code&&(n=Object(c.jsx)("code",{children:n})),s.italic&&(n=Object(c.jsx)("em",{children:n})),s.overline&&(n=Object(c.jsx)("strike",{children:n})),Object(c.jsx)("span",Object(a.a)(Object(a.a)({},t),{},{children:n}))},h=function(e){se.g.insertText(t,e)},O=Object(s.useCallback)((function(e){return Object(c.jsx)(b,Object(a.a)({},e))}),[]),x=function(){return Object(c.jsxs)("div",{className:"ToolBar",children:[Object(c.jsx)(de.a,{onChange:function(e){return h("{".concat(e.selectedItem,"}"))},size:"sm",type:"inline",items:e.variables,titleText:"Variables"}),Object(c.jsx)(q.a,{renderIcon:oe.a,kind:"ghost",hasIconOnly:!0,size:"small",iconDescription:"Bold",onClick:function(){var e=se.a.nodes(t,{match:function(e){return e.bold}}),n=Object(d.a)(e,1)[0];se.g.setNodes(t,{bold:!n},{match:function(e){return se.f.isText(e)},split:!0})}}),Object(c.jsx)(q.a,{renderIcon:oe.b,kind:"ghost",hasIconOnly:!0,iconDescription:"Italic",size:"small",onClick:function(){var e=se.a.nodes(t,{match:function(e){return e.italic}}),n=Object(d.a)(e,1)[0];se.g.setNodes(t,{italic:!n},{match:function(e){return se.f.isText(e)},split:!0})}}),Object(c.jsx)(q.a,{renderIcon:oe.c,kind:"ghost",hasIconOnly:!0,iconDescription:"Strike through",size:"small",onClick:function(){var e=se.a.nodes(t,{match:function(e){return e.overline}}),n=Object(d.a)(e,1)[0];se.g.setNodes(t,{overline:!n},{match:function(e){return se.f.isText(e)},split:!0})}}),Object(c.jsx)(q.a,{renderIcon:k.a,kind:"ghost",hasIconOnly:!0,iconDescription:"Monospace",size:"small",onClick:function(){var e=se.a.nodes(t,{match:function(e){return e.code}}),n=Object(d.a)(e,1)[0];se.g.setNodes(t,{code:!n},{match:function(e){return se.f.isText(e)},split:!0})}}),Object(c.jsx)(q.a,{renderIcon:w.c,kind:"ghost",iconDescription:"Emoji",hasIconOnly:!0,size:"small",onClick:l})]})};return Object(c.jsxs)("div",{className:"TextEditor",children:[e.open?Object(c.jsx)(x,{}):null,Object(c.jsx)("div",{className:"EmojiPicker",children:i?Object(c.jsx)(ie.a,{title:"Connectivity's",perLine:8,showPreview:!1,onClick:function(e){h(e.native)}}):null}),Object(c.jsxs)("div",{className:"Main",children:[Object(c.jsx)(re.b,{editor:t,value:e.textState,onChange:function(t){e.editVariant(e.editorIndex,{body:ue(t),textState:t})},children:Object(c.jsx)(re.a,{renderElement:u,renderLeaf:O})}),e.open?null:Object(c.jsx)(q.a,{className:"DeleteButton",hasIconOnly:!0,renderIcon:$.b,onClick:function(){console.log(e.editorIndex),e.deleteVariant(e.editorIndex)},kind:"secondary",iconDescription:"Delete this variant"})]})]})}));function he(e){return{type:"CREATE_MEDIA_TEXT",data:e}}function Oe(e){return{type:"DELETE_MEDIA_TEXT",data:e}}function xe(e){return{type:"SET_MEDIA_TEXT_ACTIVE",data:e}}var pe=Object(V.b)(null,(function(e){return{createTextVariant:function(t){return e(le(t))},createMediaVariant:function(t){return e(he(t))}}}))((function(e){return"text"===e.messageType?Object(c.jsx)("div",{className:"AddTextEditor",children:Object(c.jsx)(q.a,{hasIconOnly:!0,onClick:function(){return e.createTextVariant({body:"",textState:[{type:"paragraph",children:[{text:"Write here your variant..."}]}],active:!0})},renderIcon:l.a,kind:"secondary",iconDescription:"Add new variant"})}):"media"===e.messageType?Object(c.jsx)("div",{className:"AddTextEditor",children:Object(c.jsx)(q.a,{hasIconOnly:!0,onClick:function(){return e.createMediaVariant({body:"",textState:[{type:"paragraph",children:[{text:"Write here your variant..."}]}],active:!0})},renderIcon:l.a,kind:"secondary",iconDescription:"Add new variant"})}):void 0})),fe=n(536),me=n(537),ve=n(517),ge=n(534),ye=n(535);var Ie=Object(V.b)((function(e){return{contacts:e.firestore.ordered.contacts,connections:e.firestore.ordered.connections}}))((function(e){return Object(c.jsxs)("div",{className:"SelectConnection",children:[Object(c.jsx)("div",{style:{marginBottom:"1em"},children:Object(c.jsxs)(ge.a,{onChange:e.handleSelectConnection,defaultValue:"placeholder-item",hideLabel:!0,children:[Object(c.jsx)(ye.a,{disabled:!0,hidden:!0,value:"placeholder-item",text:"Select a connection"}),e.connections.map((function(e,t){return Object(c.jsx)(ye.a,{value:e.id,text:e.id},t)}))]})}),Object(c.jsxs)("div",{children:[Object(c.jsxs)(ge.a,{onChange:e.handleSelectContact,defaultValue:"placeholder-item",hideLabel:!0,children:[Object(c.jsx)(ye.a,{disabled:!0,hidden:!0,value:"placeholder-item",text:"Select a contact list"}),e.contacts.map((function(e,t){return Object(c.jsx)(ye.a,{value:e.id,text:e.id},t)}))]}),Object(c.jsx)("br",{}),Object(c.jsx)(H.a,{type:"number",value:e.cooldown,onChange:e.handleSelectCooldown,labelText:"Cooldown (seconds)"})]})]})}));var Te=Object(V.b)((function(e){return{textMessageVariants:e.textMessageVariants,contacts:e.firestore.ordered.contacts,connections:e.firestore.ordered.connections,uid:e.firebase.auth.uid,token:e.firebase.profile.token.token}}),(function(e){return{changeNav:function(t){return e(E(t))},createVariant:function(t){return e(le(t))},deleteVariant:function(t){return e(je(t))},editVariant:function(t,n){return e(function(e,t){return{type:"EDIT_TEXT",data:{index:e,body:t.body,textState:t.textState}}}(t,n))},deleteAll:function(){return e({type:"DELETE_ALL_TEXT"})},setActiveVariant:function(t){return e(function(e){return{type:"SET_TEXT_ACTIVE",data:e}}(t))}}}))((function(e){Object(s.useEffect)((function(){e.deleteAll()}),[]);var t=Object(j.g)(),n=Object(s.useState)(""),a=Object(d.a)(n,2),r=a[0],i=a[1],o=Object(s.useState)(""),l=Object(d.a)(o,2),u=(l[0],l[1]),b=Object(s.useState)("10"),h=Object(d.a)(b,2),O=h[0],x=h[1],p=Object(s.useState)([]),f=Object(d.a)(p,2),m=(f[0],f[1]),v=Object(s.useState)(!1),g=Object(d.a)(v,2),y=g[0],I=g[1],T=Object(s.useState)([]),M=Object(d.a)(T,2),C=M[0],S=(M[1],Object(s.useState)(!1)),E=Object(d.a)(S,2),k=E[0],A=(E[1],Object(s.useState)({variables:["Contact list is not selected"]})),N=Object(d.a)(A,2),w=N[0],D=N[1];Object(s.useEffect)((function(){!function(){var e=Math.floor(290/(2+parseInt(O)));console.log("Message amount: ",e),console.log("Contact length: ",w.length);for(var t=e>w.length?1:Math.floor(w.length/e),n=e>w.length?0:Math.floor(w.length%e),a=[],c=0,s=0;s<t;s++)e>w.length?a.push([0,w.length]):a.push([s*e,(s+1)*e]),c=(s+1)*e;0!==n&&a.push([c,c+n]),m(a),console.log("tmpInterval: ",a)}()}),[w,O,r]);var V=function(){var t=Object(ce.a)(ae.a.mark((function t(n){var a;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.contacts.find((function(e){return e.id===n.target.value})),D(a),u(n.target.value);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),L=function(){var e=Object(ce.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return k?Object(c.jsx)(B.a,{open:k,passiveModal:!0,onRequestClose:function(){e.changeNav("dashboard"),t.push("/app/dashboard")},modalHeading:"Dispatch status",hasForm:!0,children:Object(c.jsxs)(Z.a,{children:[Object(c.jsx)(z.a,{children:Object(c.jsxs)(P.a,{children:[Object(c.jsx)(G.a,{}),Object(c.jsx)(G.a,{children:"Phone "}),Object(c.jsx)(G.a,{children:"Message "})]})}),Object(c.jsx)(U.a,{children:C.map((function(e,t){return Object(c.jsxs)(P.a,{children:[Object(c.jsxs)(J.a,{children:[t," "]}),Object(c.jsx)(J.a,{children:Object(c.jsx)(fe.a,{status:e.sendStatus,description:e.receiverNumber})}),Object(c.jsx)(J.a,{children:Object(c.jsxs)(me.a,{children:[Object(c.jsx)("p",{}),Object(c.jsx)(me.b,{children:Object(c.jsx)("p",{children:e.message})})]})})]},t)}))})]})}):Object(c.jsxs)("div",{className:"send-text-message",children:[y?Object(c.jsx)(K.a,{}):null,Object(c.jsx)(Ie,{handleSelectContact:V,handleSelectConnection:function(e){i(e.target.value)},handleSelectCooldown:function(e){x(e.target.value)},cooldown:O}),e.textMessageVariants.variants.map((function(t,n){return Object(c.jsx)("div",{onClick:function(){return e.setActiveVariant(n)},children:Object(c.jsx)(be,{editVariant:e.editVariant,variables:w.variables,editorIndex:n,textState:t.textState,open:t.active},n)})})),Object(c.jsx)(pe,{messageType:"text"}),e.textMessageVariants.variants.length>0?Object(c.jsx)(q.a,{kind:"primary",style:{marginTop:"64px"},renderIcon:ve.b,onClick:L,children:"Send Messages"}):null]})})),Me=n(252),Ce=n(253),Se=n(284),Ee=(n(451),n(279));n(452);var ke=Object(V.b)((function(e){return{uid:e.firebase.auth.uid}}),(function(e){return{createVariant:function(t){return e(he(t))},deleteVariant:function(t){return e(Oe(t))},deleteAll:function(){return e({type:"DELETE_ALL_MEDIA_TEXT"})},setActiveVariant:function(t){return e(xe(t))},setMediaPath:function(t){return e(function(e){return{type:"SET_MEDIA_PATH",data:e}}(t))},setMediaType:function(t){return e({type:"SET_MEDIA_TYPE",data:t})}}}))((function(e){var t=Object(u.useFirebase)(),n=Object(s.useState)("upload"),a=Object(d.a)(n,2),r=a[0],i=a[1],o=Object(s.useState)("#"),l=Object(d.a)(o,2),j=l[0],b=l[1],h=Object(s.useState)("#"),O=Object(d.a)(h,2),x=O[0],p=O[1],f=Object(s.useState)("#"),m=Object(d.a)(f,2),v=m[0],g=m[1],y=Object(s.useState)({}),I=Object(d.a)(y,2),T=I[0],M=I[1],C=Object(s.useState)(""),S=Object(d.a)(C,2),E=S[0],k=S[1],A=Object(s.useState)({isOn:!1,message:""}),N=Object(d.a)(A,2),w=N[0],D=N[1],V=function(){var n=Object(ce.a)(ae.a.mark((function n(a,c){var s,r,o,d,l;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s=c.addedFiles,r=s[0],o=1e-6*r.size,d="application/pdf"===r.type||"image/jpg"===r.type||"audio/mpeg"===r.type||"video/mp4"===r.type||"image/jpeg"===r.type,D(o>2.5?{isOn:!0,message:"File size must be less than 2.5mb"}:d?{isOn:!1,message:""}:{isOn:!0,message:"Incorrect file format. ".concat(r.type," not allowed")}),l=function(){var n=Object(ce.a)(ae.a.mark((function n(){return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.uploadFile("user/".concat(e.uid,"/media"),r);case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),k(r.name),i("loading"),n.t0=r.type,n.next="application/pdf"===n.t0?11:"image/jpeg"===n.t0?27:"image/jpg"===n.t0?43:"audio/mpeg"===n.t0?58:"video/mp4"===n.t0?74:90;break;case 11:if(!(o>2.5)&&d){n.next=18;break}return i("upload"),e.setAddText(!1),e.setSendMessage(!1),n.abrupt("break",94);case 18:return e.setMediaPath(r.name),n.next=21,l();case 21:return M(r.name),e.setMediaType("document"),e.setSendMessage(!0),e.setAddText(!1),i("document"),n.abrupt("break",94);case 27:if(!(o>2.5)&&d){n.next=34;break}return i("upload"),e.setAddText(!1),e.setSendMessage(!1),n.abrupt("break",94);case 34:return e.setMediaPath(r.name),n.next=37,l();case 37:return b(URL.createObjectURL(r)),e.setMediaType("image"),e.setAddText(!0),e.setSendMessage(!0),i("image"),n.abrupt("break",94);case 43:if(!(o>2.5)&&d){n.next=50;break}return i("upload"),e.setAddText(!1),e.setSendMessage(!1),n.abrupt("break",94);case 50:return e.setMediaPath(r.name),n.next=53,l();case 53:return b(URL.createObjectURL(r)),e.setMediaType("image"),e.setSendMessage(!0),i("image"),n.abrupt("break",94);case 58:if(!(o>2.5)&&d){n.next=65;break}return i("upload"),e.setAddText(!1),e.setSendMessage(!1),n.abrupt("break",94);case 65:return e.setMediaPath(r.name),n.next=68,l();case 68:return p(URL.createObjectURL(r)),e.setMediaType("audio"),e.setAddText(!1),e.setSendMessage(!0),i("audio"),n.abrupt("break",94);case 74:if(!(o>2.5)&&d){n.next=81;break}return i("upload"),e.setAddText(!1),e.setSendMessage(!1),n.abrupt("break",94);case 81:return e.setMediaPath(r.name),n.next=84,l();case 84:return g(URL.createObjectURL(r)),e.setMediaType("video"),e.setAddText(!0),e.setSendMessage(!0),i("video"),n.abrupt("break",94);case 90:return i("upload"),e.setAddText(!1),e.setSendMessage(!1),n.abrupt("break",94);case 94:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),L=function(){var n=Object(ce.a)(ae.a.mark((function n(){var a;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.storage().ref("user/".concat(e.uid,"/media/").concat(E)),n.next=3,a.delete();case 3:e.setSendMessage(!1),e.setMediaPath(""),e.deleteAll(),i("upload");case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),_=function(){var n=Object(ce.a)(ae.a.mark((function n(){var a;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.storage().ref("user/".concat(e.uid,"/media/").concat(E)),n.next=3,a.delete();case 3:e.setSendMessage(!1),e.setMediaPath(""),e.deleteAll(),i("upload");case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),W=function(){var n=Object(ce.a)(ae.a.mark((function n(){var a;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.storage().ref("user/".concat(e.uid,"/media/").concat(E)),n.next=3,a.delete();case 3:e.setSendMessage(!1),e.setMediaPath(""),e.deleteAll(),i("upload");case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),R=function(){var n=Object(ce.a)(ae.a.mark((function n(){var a;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.storage().ref("user/".concat(e.uid,"/media/").concat(E)),n.next=3,a.delete();case 3:e.setSendMessage(!1),e.setMediaPath(""),e.deleteAll(),i("upload");case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return"image"===r?Object(c.jsxs)("div",{className:"MediaGadget",children:[Object(c.jsx)("img",{alt:"",className:"image",src:j}),Object(c.jsx)("div",{className:"DeleteButton",children:Object(c.jsx)(q.a,{iconDescription:"Delete this file",hasIconOnly:!0,renderIcon:$.a,kind:"secondary",size:"sm",onClick:W})})]}):"document"===r?Object(c.jsx)("div",{className:"MediaGadget",children:Object(c.jsx)(Me.a,{name:T,status:"edit",onDelete:R})}):"video"===r?Object(c.jsxs)("div",{className:"MediaGadget",children:[Object(c.jsx)(Ee.DefaultPlayer,{loop:!0,controls:["PlayPause","Seek","Time","Volume"],children:Object(c.jsx)("source",{src:v,type:"video/mp4"})}),Object(c.jsx)("div",{className:"DeleteButton",children:Object(c.jsx)(q.a,{iconDescription:"Delete this file",hasIconOnly:!0,renderIcon:$.a,kind:"secondary",size:"sm",onClick:L})})]}):"audio"===r?Object(c.jsxs)("div",{className:"MediaGadget",children:[Object(c.jsx)(Se.a,{src:x}),Object(c.jsx)("div",{className:"DeleteButton",children:Object(c.jsx)(q.a,{iconDescription:"Delete this file",hasIconOnly:!0,renderIcon:$.a,kind:"secondary",size:"sm",onClick:_})})]}):"loading"===r?Object(c.jsx)("div",{className:"MediaGadget",children:Object(c.jsx)(K.a,{withOverlay:!1})}):"upload"===r?Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"MediaGadget",children:Object(c.jsx)(Ce.a,{labelText:"Drop your media file here",onAddFiles:V,accept:["application/pdf","image/png","image/jpg","image/jpeg","audio/mpeg","video/mp4"]})}),w.isOn?Object(c.jsx)("div",{className:"Warn",children:Object(c.jsx)(Q.a,{kind:"warning",title:w.message})}):null]}):Object(c.jsx)("div",{className:"MediaGadget",children:Object(c.jsx)(Ce.a,{labelText:"Drop your media file here"})})}));var Ae=Object(V.b)((function(e){return{mediaMessageVariants:e.mediaMessageVariants,contacts:e.firestore.ordered.contacts,connections:e.firestore.ordered.connections,uid:e.firebase.auth.uid,token:e.firebase.profile.token.token}}),(function(e){return{changeNav:function(t){return e(E(t))},createVariant:function(t){return e(he(t))},deleteVariant:function(t){return e(Oe(t))},editVariant:function(t,n){return e(function(e,t){return{type:"EDIT_MEDIA_TEXT",data:{index:e,body:t.body,textState:t.textState}}}(t,n))},deleteAll:function(){return e({type:"DELETE_ALL_MEDIA_TEXT"})},setActiveVariant:function(t){return e(xe(t))}}}))((function(e){Object(s.useEffect)((function(){e.deleteAll()}),[]);var t=Object(u.useFirebase)(),n=t.database(),a=Object(j.g)(),r=Object(s.useState)(""),i=Object(d.a)(r,2),o=i[0],l=i[1],b=Object(s.useState)(""),h=Object(d.a)(b,2),O=h[0],x=h[1],p=Object(s.useState)("10"),f=Object(d.a)(p,2),m=f[0],v=f[1],g=Object(s.useState)([]),y=Object(d.a)(g,2),I=y[0],T=y[1],M=Object(s.useState)(""),C=Object(d.a)(M,2),S=(C[0],C[1],Object(s.useState)(!1)),E=Object(d.a)(S,2),k=E[0],A=E[1],N=Object(s.useState)([]),w=Object(d.a)(N,2),D=w[0],V=w[1],L=Object(s.useState)(!1),_=Object(d.a)(L,2),W=_[0],R=_[1],F=Object(s.useState)(!1),X=Object(d.a)(F,2),Y=X[0],Q=X[1],H=Object(s.useState)(!1),$=Object(d.a)(H,2),ee=$[0],te=$[1],ne=Object(s.useState)({id:"contact",variables:["Contact list is not selected"],length:1}),se=Object(d.a)(ne,2),re=se[0],ie=se[1];Object(s.useEffect)((function(){console.log(I)}),[I]),Object(s.useEffect)((function(){!function(){var e=Math.floor(290/(5+parseInt(m)));console.log("Message amount: ",e),console.log("Contact length: ",re.length);for(var t=e>re.length?1:Math.floor(re.length/e),n=e>re.length?0:Math.floor(re.length%e),a=[],c=0,s=0;s<t;s++)e>re.length?a.push([0,re.length]):a.push([s*e,(s+1)*e]),c=(s+1)*e;0!==n&&a.push([c,c+n]),T(a),console.log("tmpInterval: ",a)}()}),[re,m,o]);var oe=function(){var t=Object(ce.a)(ae.a.mark((function t(){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return V([]),t.next=3,n.ref("user/".concat(e.uid,"/mediaMessage")).remove();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),de=function(){R(!W)},le=function(){var a=Object(ce.a)(ae.a.mark((function a(){var c,s,r;return ae.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:A(!0),n.ref("user/".concat(e.uid,"/mediaMessage")).remove(),n.ref("user/".concat(e.uid,"/mediaMessage")).on("value",(function(t){if(t.exists()){var n=t.val();V(n),A(!1),de(),e.deleteAll()}})),c=!1,s=0;case 4:if(!(s<I.length)){a.next=14;break}if(c){a.next=11;break}return a.next=8,t.auth().currentUser.getIdToken(!0);case 8:return r=a.sent,a.next=11,fetch("https://us-central1-connectivitys-2066c.cloudfunctions.net/api/sendSingleMediaMessage/",{method:"POST",body:JSON.stringify({uid:e.uid,contactId:O,connectionId:o,variants:e.mediaMessageVariants,token:r,cooldown:1e3*m,contactsInterval:I[s],isFirst:0===s,isLast:s===I.length-1}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){c=!0,console.log("Error response from server: ",e)}));case 11:s++,a.next=4;break;case 14:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(u.useFirestoreConnect)([{collection:"user",doc:e.uid,subcollections:[{collection:"contacts"}],storeAs:"contacts"},{collection:"user",doc:e.uid,subcollections:[{collection:"credentials"}],storeAs:"connections"}]),W?Object(c.jsx)(B.a,{open:W,passiveModal:!0,onRequestClose:function(){oe(),e.changeNav("dashboard"),a.push("/app/dashboard")},modalHeading:"Dispatch status",hasForm:!0,children:Object(c.jsxs)(Z.a,{children:[Object(c.jsx)(z.a,{children:Object(c.jsxs)(P.a,{children:[Object(c.jsx)(G.a,{}),Object(c.jsx)(G.a,{children:"Phone "}),Object(c.jsx)(G.a,{children:"Message "})]})}),Object(c.jsx)(U.a,{children:D.map((function(e,t){return Object(c.jsxs)(P.a,{children:[Object(c.jsxs)(J.a,{children:[t," "]}),Object(c.jsx)(J.a,{children:Object(c.jsx)(fe.a,{status:e.sendStatus,description:e.receiverNumber})}),Object(c.jsx)(J.a,{children:Object(c.jsxs)(me.a,{children:[Object(c.jsx)("p",{}),Object(c.jsx)(me.b,{children:Object(c.jsx)("p",{children:e.message})})]})})]},t)}))})]})}):Object(c.jsxs)("div",{className:"send-text-message",children:[k?Object(c.jsx)(K.a,{}):null,Object(c.jsx)(Ie,{handleSelectContact:function(t){var n=e.contacts.find((function(e){return e.id===t.target.value}));x(t.target.value),ie(n)},handleSelectConnection:function(e){l(e.target.value)},handleSelectCooldown:function(e){v(e.target.value)},cooldown:m}),Object(c.jsx)(ke,{setAddText:te,setSendMessage:Q}),Y?Object(c.jsxs)(s.Fragment,{children:[e.mediaMessageVariants.variants.map((function(t,n){return Object(c.jsx)("div",{onClick:function(){return e.setActiveVariant(n)},children:Object(c.jsx)(be,{editVariant:e.editVariant,variables:re.variables,editorIndex:n,textState:t.textState,open:t.active},n)})})),ee?Object(c.jsx)(pe,{messageType:"media"}):null,Object(c.jsx)(q.a,{kind:"primary",style:{marginTop:"64px"},renderIcon:ve.b,onClick:le,children:"Send Messages"})]}):null]})})),Ne=n(280);var we=Object(V.b)((function(e){return{uid:e.firebase.auth.uid,token:e.firebase.profile.token.token}}),(function(e){return{changeNav:function(t){return e(E(t))}}}))((function(e){var t=Object(j.g)(),n=Object(s.useState)(""),a=Object(d.a)(n,2),r=a[0],i=a[1],o=Object(s.useState)("This is a non functional demo so this qr doesn't do anything"),l=Object(d.a)(o,2),u=l[0],b=l[1],h=Object(s.useState)("name"),O=Object(d.a)(h,2),x=O[0],p=O[1],f=function(e){p(e)};switch(x){case"name":return Object(c.jsxs)(B.a,{onRequestSubmit:Object(ce.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f("loading"),p("qr");case 1:case"end":return e.stop()}}),e)}))),hasForm:!0,open:!0,modalHeading:Object(c.jsx)("h2",{children:" Create new connection"}),primaryButtonText:"Create",children:[Object(c.jsx)("br",{}),Object(c.jsx)(H.a,{onChange:function(e){i(e.target.value),b(u+e.target.value)},labelText:"Connection's name",value:r})]});case"loading":return Object(c.jsx)(K.a,{});case"qr":return Object(c.jsxs)(B.a,{onRequestClose:function(){e.changeNav("dashboard"),t.push("app/dashboard")},hasForm:!0,passiveModal:!0,open:!0,modalHeading:Object(c.jsx)("h2",{children:"Scan the code"}),children:[Object(c.jsx)("br",{}),Object(c.jsx)("p",{children:" Open whatsapp and scan the QR code"}),Object(c.jsx)("br",{}),Object(c.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%"},children:Object(c.jsx)(Ne,{value:u})})]});default:return null}})),De=n(542);var Ve=Object(V.b)(null,(function(e){return{changeNav:function(t){return e(E(t))}}}))((function(e){var t=Object(u.useFirebase)(),n=Object(j.g)(),a=Object(s.useState)("file"),r=Object(d.a)(a,2),i=r[0],o=(r[1],Object(s.useState)("uploading")),l=Object(d.a)(o,2),b=l[0],h=l[1],O=function(){e.changeNav("dashboard"),n.push("/app/dashboard")},x=function(){var n=Object(ce.a)(ae.a.mark((function n(a){var c;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=a.target.files[0],n.next=3,t.uploadFile("user/".concat(e.uid,"/contacts"),c).catch((function(e){return console.log(e)}));case 3:h("complete");case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();switch(i){case"loading":return Object(c.jsx)(K.a,{});case"file":return Object(c.jsxs)(B.a,{onRequestClose:O,onRequestSubmit:O,open:!0,modalHeading:Object(c.jsx)("h2",{children:"Upload your csv"}),primaryButtonText:"Done",children:[Object(c.jsx)("br",{}),Object(c.jsx)("p",{children:"Upload your csv here. Remember that the first column\u2019s header must be \u201cphone\u201d (without quotes) and all it\u2019s cells must be user\u2019s phone number with its country code (ex: 59594123456)."}),Object(c.jsx)("br",{}),Object(c.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(c.jsx)(De.a,{filenameStatus:b,buttonLabel:"Add file",onChange:x})})]});default:return null}})),Le=n(43);n(458);var _e=Object(V.b)((function(e){return{auth:e.firebase.auth}}))((function(e){return Object(c.jsx)(Le.a,{children:Object(c.jsxs)(j.d,{children:[Object(c.jsxs)(j.b,{path:"/app",children:[Object(c.jsx)(g,{}),Object(c.jsx)(L,{}),Object(c.jsx)(o.a,{className:"content",children:Object(c.jsxs)(j.d,{children:[Object(c.jsx)(j.b,{path:"/app/create-new-connection",children:Object(c.jsx)(we,{})}),Object(c.jsx)(j.b,{path:"/app/create-new-contact",children:Object(c.jsx)(Ve,{})}),Object(c.jsx)(j.b,{path:"/app/dashboard",children:Object(c.jsx)(Y,{})}),Object(c.jsx)(j.b,{path:"/app/send-text-message",children:Object(c.jsx)(Te,{})}),Object(c.jsx)(j.b,{path:"/app/send-media-message",children:Object(c.jsx)(Ae,{})}),Object(c.jsx)(j.b,{path:"/app/connection-status/:id",children:Object(c.jsx)(ee,{})}),Object(c.jsx)(j.b,{path:"/app/contact-status/:id",children:Object(c.jsx)(te,{})}),Object(c.jsx)(j.b,{path:"*",children:Object(c.jsx)(j.a,{to:"/app/dashboard"})})]})})]}),Object(c.jsx)(j.b,{path:"*",children:Object(c.jsx)(j.a,{to:"/app/dashboard"})})]})})})),We=(n(459),n(63)),Re={requesting:{},requested:{},timestamps:{},data:{},ordered:{},auth:{uid:"2CyOQZzVI9Mf3ZBUcov00PLpBFg2",displayName:null,photoURL:null,email:"stefanovich.brian@gmail.com",emailVerified:!0,phoneNumber:null,isAnonymous:!1,tenantId:null,providerData:[{uid:"stefanovich.brian@gmail.com",displayName:null,photoURL:null,email:"stefanovich.brian@gmail.com",phoneNumber:null,providerId:"password"}],apiKey:"AIzaSyAXsdOOxF8isFcNw-H-jxeWDy2OoLzTb1A",appName:"[DEFAULT]",authDomain:"connectivitys-2066c.firebaseapp.com",stsTokenManager:{apiKey:"AIzaSyAXsdOOxF8isFcNw-H-jxeWDy2OoLzTb1A",refreshToken:"AOvuKvSshj3S7rGm3PlT6eGG5hPxo6S2jOo40nBF2FznkNnPYnB0NbGImVKiAAVnibBamZPLwBoAvZhCiazWUrKjO44jW34wmoMj7pGL9ERv8KsYEUmaKAyApl9NR_X_NYXOCh-ptV6m_VCWONOH5FieBscLaPS9G1w4r8cWgcbIZGzFyf3OAYTrlfskZHHZjCFYSIfLGWZ-aj8lGdOF-M-cwhJ1zeEb3WaF3yWAYNxDk8HydMYVDZs",accessToken:"eyJhbGciOiJSUzI1NiIsImtpZCI6IjBlYmMyZmI5N2QyNWE1MmQ5MjJhOGRkNTRiZmQ4MzhhOTk4MjE2MmIiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vY29ubmVjdGl2aXR5cy0yMDY2YyIsImF1ZCI6ImNvbm5lY3Rpdml0eXMtMjA2NmMiLCJhdXRoX3RpbWUiOjE2MTExMDEwMTUsInVzZXJfaWQiOiIyQ3lPUVp6Vkk5TWYzWkJVY292MDBQTHBCRmcyIiwic3ViIjoiMkN5T1FaelZJOU1mM1pCVWNvdjAwUExwQkZnMiIsImlhdCI6MTYxNDA0ODg4OSwiZXhwIjoxNjE0MDUyNDg5LCJlbWFpbCI6InN0ZWZhbm92aWNoLmJyaWFuQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJmaXJlYmFzZSI6eyJpZGVudGl0aWVzIjp7ImVtYWlsIjpbInN0ZWZhbm92aWNoLmJyaWFuQGdtYWlsLmNvbSJdfSwic2lnbl9pbl9wcm92aWRlciI6InBhc3N3b3JkIn19.GomC09hemI8ByRpyC1vwznZlOkBVPGuP7JH8g25S3D3_I8ksOVmnmI46eVjpAj5pewN2WC8PJvC_THlZ4l53_QQxisr8MGBpL9VHV5Tz2O7vYUyOKFbJhNM6tMBh8ASDg9D8Cl6JuKhPQaRCUkMgZlR6or0RWpaIlFHHW-59_1rIUw8pnqdf9gv0muZSOHKCPIfDsMEJcYdZL4mvPP2dh_CyhKnAYa2C30yQj6M-TVcTb4YC63gmvSILggciMpWqpt-k0IhTErThzS7sTP9dv8z4q6LmtseG39FprNLZk9zG9-cpd_cb0fOIJ4525eUVaEiKgxSzMTI48uxs25ViFw",expirationTime:1614052489e3},redirectEventId:null,lastLoginAt:"1612740023321",createdAt:"1605376833643",multiFactor:{enrolledFactors:[]},isEmpty:!1,isLoaded:!0},authError:null,profile:{token:{token:"eyJhbGciOiJSUzI1NiIsImtpZCI6IjBlYmMyZmI5N2QyNWE1MmQ5MjJhOGRkNTRiZmQ4MzhhOTk4MjE2MmIiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vY29ubmVjdGl2aXR5cy0yMDY2YyIsImF1ZCI6ImNvbm5lY3Rpdml0eXMtMjA2NmMiLCJhdXRoX3RpbWUiOjE2MTExMDEwMTUsInVzZXJfaWQiOiIyQ3lPUVp6Vkk5TWYzWkJVY292MDBQTHBCRmcyIiwic3ViIjoiMkN5T1FaelZJOU1mM1pCVWNvdjAwUExwQkZnMiIsImlhdCI6MTYxNDA0OTA2NCwiZXhwIjoxNjE0MDUyNjY0LCJlbWFpbCI6InN0ZWZhbm92aWNoLmJyaWFuQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJmaXJlYmFzZSI6eyJpZGVudGl0aWVzIjp7ImVtYWlsIjpbInN0ZWZhbm92aWNoLmJyaWFuQGdtYWlsLmNvbSJdfSwic2lnbl9pbl9wcm92aWRlciI6InBhc3N3b3JkIn19.FUwNahWSatCv5dh27wrNK-138ugpH5-SHp23kchNRMOxitzByv1d1_-eRG5SperrErh7y0HWGf6Pg2uCGkK5C9zZe2Jme1sBd933II8mBPSuWx61rpCaPxwxCwQakZrPMCHWo35GuxrCZnsTWCYSmkALXlH4AVXLfCglRmhBsEJXZQvdm4Yam1nbWZ-ez2lNzaobZdEY4js_cs0Nve7sNzDu83OdBy5LpuUcUomhPkIND8errqGdzI1xOGKaap3unyPGzrllyA4-a6Ox1ZfMBRcFhcdBbPYWNtZ3rEUW8j5blS_D3vMPyHV7BsTzcJIJk5xbR4Lxs_1-cb7YpCxhyQ",expirationTime:"Tue, 23 Feb 2021 03:57:44 GMT",authTime:"Wed, 20 Jan 2021 00:03:35 GMT",issuedAtTime:"Tue, 23 Feb 2021 02:57:44 GMT",signInProvider:"password",signInSecondFactor:null,claims:{iss:"https://securetoken.google.com/connectivitys-2066c",aud:"connectivitys-2066c",auth_time:1611101015,user_id:"2CyOQZzVI9Mf3ZBUcov00PLpBFg2",sub:"2CyOQZzVI9Mf3ZBUcov00PLpBFg2",iat:1614049064,exp:1614052664,email:"stefanovich.brian@gmail.com",email_verified:!0,firebase:{identities:{email:["stefanovich.brian@gmail.com"]},sign_in_provider:"password"}}},isEmpty:!1,isLoaded:!0},listeners:{byId:{},allIds:[]},isInitializing:!1,errors:[]},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;return t.type,Object(a.a)({},e)},Xe={status:{requesting:{connections:!1,contacts:!1},requested:{connections:!0,contacts:!0},timestamps:{connections:1614048737678,contacts:1614048737678}},data:{connections:{123:{serverToken:"1@E+CKggXs7jhTf2clR/I3RUfXXSqbF0Nt6vhiZ6j+699IDQnigtmym8Id1y9jDeWdW324xWVdrcsVpA==",clientToken:"mNuuNICcfkGNcMdeIBhLPkrAWpRhxytE4jxe/aURy0o=",macKey:"RYsdUl/i0V5OzwYwuCK+Ehbrzcdya9nFRdTnan55Stw=",user:{imgUrl:"https://pps.whatsapp.net/v/t61.24694-24/106786643_677999013044897_809060459687394430_n.jpg?oh=e7e194126f699f86a70537ad63ab8a2b&oe=601418A6",name:"Brian Stefanovich",jid:"59894419518@s.whatsapp.net",phone:{mnc:"007",wa_version:"2.20.206.24",mcc:"748",device_manufacturer:"HUAWEI",device_model:"HWDRA-MG",os_build_number:"DRA-LX3 1.0.0.178(C469)",os_version:"8.1.0"}},encKey:"X4wkq1XMdqgorKPIAA7hfDvzYa1cnhRKXt8fvlMqMso=",clientID:"zyC/qClmf115N01lGuRMGQ=="}},contacts:{"demo.csv":{variables:["phone","name","testVariable1","testVariable2"],length:2}}},ordered:{connections:[{id:"Demo Connection",serverToken:"1@E+CKggXs7jhTf2clR/I3RUfXXSqbF0Nt6vhiZ6j+699IDQnigtmym8Id1y9jDeWdW324xWVdrcsVpA==",clientToken:"mNuuNICcfkGNcMdeIBhLPkrAWpRhxytE4jxe/aURy0o=",macKey:"RYsdUl/i0V5OzwYwuCK+Ehbrzcdya9nFRdTnan55Stw=",user:{imgUrl:n.p+"static/media/Group 43wireBox.78daa482.jpg",name:"Brian Stefanovich",jid:"59894419518@s.whatsapp.net",phone:{mnc:"007",wa_version:"2.20.206.24",mcc:"748",device_manufacturer:"HUAWEI",device_model:"HWDRA-MG",os_build_number:"DRA-LX3 1.0.0.178(C469)",os_version:"8.1.0"}},encKey:"X4wkq1XMdqgorKPIAA7hfDvzYa1cnhRKXt8fvlMqMso=",clientID:"zyC/qClmf115N01lGuRMGQ=="}],contacts:[{id:"Demo-List.csv",variables:["phone","name","testVariable1","testVariable2"],length:2}]},listeners:{byId:{connections:{name:"connections"},contacts:{name:"contacts"}},allIds:["connections","contacts"]},errors:{byQuery:{},allIds:[]},queries:{}},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;return t.type,Object(a.a)({},e)},ze={variants:[]},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TEXT_ACTIVE":return Object(a.a)(Object(a.a)({},e),{},{variants:e.variants.map((function(e,n){return n===t.data?Object(a.a)(Object(a.a)({},e),{},{active:!0}):Object(a.a)(Object(a.a)({},e),{},{active:!1})}))});case"CREATE_TEXT":var n=e.variants.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{active:!1})}));return Object(a.a)(Object(a.a)({},e),{},{variants:n.concat(t.data)});case"EDIT_TEXT":return{variants:e.variants.map((function(e,n){return n===t.data.index?{body:t.data.body,textState:t.data.textState,active:!0}:e}))};case"DELETE_TEXT":return Object(a.a)(Object(a.a)({},e),{},{variants:e.variants.filter((function(e,t){return 0!==t}))});default:return Object(a.a)({},e);case"DELETE_ALL_TEXT":return Object(a.a)(Object(a.a)({},e),{},{variants:[]})}},Ge={variants:[]},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MEDIA_TEXT_ACTIVE":return Object(a.a)(Object(a.a)({},e),{},{variants:e.variants.map((function(e,n){return n===t.data?Object(a.a)(Object(a.a)({},e),{},{active:!0}):Object(a.a)(Object(a.a)({},e),{},{active:!1})}))});case"SET_MEDIA_PATH":return Object(a.a)(Object(a.a)({},e),{},{mediaPath:t.data});case"SET_MEDIA_TYPE":return Object(a.a)(Object(a.a)({},e),{},{mediaType:t.data});case"CREATE_MEDIA_TEXT":var n=e.variants.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{active:!1})}));return Object(a.a)(Object(a.a)({},e),{},{variants:n.concat(t.data)});case"EDIT_MEDIA_TEXT":return Object(a.a)(Object(a.a)({},e),{},{variants:e.variants.map((function(e,n){return n===t.data.index?{body:t.data.body,textState:t.data.textState,active:!0}:e}))});case"DELETE_MEDIA_TEXT":return Object(a.a)(Object(a.a)({},e),{},{variants:e.variants.filter((function(e,t){return 0!==t}))});default:return Object(a.a)({},e);case"DELETE_ALL_MEDIA_TEXT":return Object(a.a)(Object(a.a)({},e),{},{variants:[]})}},Je={activeTab:"dashboard"},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE":return{activeTab:t.data};default:return e}},Be=Object(We.combineReducers)({firebase:Fe,firestore:Ze,sideNav:Ye,textMessageVariants:Pe,mediaMessageVariants:Ue}),Qe=n(281),He={apiKey:"AIzaSyAXsdOOxF8isFcNw-H-jxeWDy2OoLzTb1A",authDomain:"connectivitys-2066c.firebaseapp.com",databaseURL:"https://connectivitys-2066c.firebaseio.com",projectId:"connectivitys-2066c",storageBucket:"connectivitys-2066c.appspot.com",messagingSenderId:"1061761115877",appId:"1:1061761115877:web:635e0fa726dc8b1833160c"},Ke=n(106),qe=(n(460),n(462),n(498),n(499),n(464),n(133)),$e=n(282);Ke.a.initializeApp(He),Ke.a.firestore();var et=Object(We.createStore)(Be,Object($e.composeWithDevTools)(Object(We.applyMiddleware)(Qe.a.withExtraArgument({getFirebase:u.getFirebase,getFirestore:qe.getFirestore})),Object(qe.reduxFirestore)(Ke.a,He))),tt={firebase:Ke.a,config:{userProfile:"users",enableClaims:!0},dispatch:et.dispatch,createFirestoreInstance:qe.createFirestoreInstance,useFirestoreForProfile:!0};i.a.render(Object(c.jsx)(V.a,{store:et,children:Object(c.jsx)(u.ReactReduxFirebaseProvider,Object(a.a)(Object(a.a)({},tt),{},{children:Object(c.jsx)(_e,{})}))}),document.getElementById("root"))}},[[497,1,2]]]);
//# sourceMappingURL=main.c57b802f.chunk.js.map